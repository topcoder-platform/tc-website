<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>The TopCoder Oracle</title>
<script language="JavaScript" type="text/javascript" src="org/tool-man/core.js"></script>
<script language="JavaScript" type="text/javascript" src="org/tool-man/events.js"></script>
<script language="JavaScript" type="text/javascript" src="org/tool-man/css.js"></script>

<script language="JavaScript" type="text/javascript" src="org/tool-man/coordinates.js"></script>
<script language="JavaScript" type="text/javascript" src="org/tool-man/drag.js"></script>
<script language="JavaScript" type="text/javascript" src="org/tool-man/dragsort.js"></script>
<script language="JavaScript" type="text/javascript" src="org/tool-man/cookies.js"></script>
<script language="JavaScript" type="text/javascript"><!--
var binHash
var dragsort = ToolMan.dragsort();
window.onload = function() {
    dragsort.makeListSortable(document.getElementById('selectedCandidates'));
    //figure out the mapping between candidates in the bin, and their indexes.

    var list = document.getElementById("candidateBin").getElementsByTagName("li");
    binHash = new Array(list.length);
    for (var i = 0; i < list.length; i++) {
        binHash[list[i].getElementsByTagName("img")[0].getAttribute("src")] = i;
    }
}

/*
move selected item to the right most position in the selected candidates list
f the selected candidates list has reached it's max size, alert user to remove
a candidate first
*/
function select(obj) {
    if (document.getElementById("selectedCandidates").getElementsByTagName("li").length == 8) {
        alert("Sorry, you have already selected 8 candidates.  Please remove one before adding another.")
    } else {
        //check if the item is in the candidate bin
        var element = obj;
        while (element && element.tagName != 'BODY') {
            if (element.tagName == 'UL' && element.id == "candidateBin") {
                var oldItem = obj.parentNode;
                var newItem = document.createElement("li");
                newItem.innerHTML = oldItem.innerHTML;
                newItem.getElementsByTagName("img")[0].setAttribute("onclick", "boot(this)");
                oldItem.innerHTML = "Space";
                document.getElementById("selectedCandidates").appendChild(newItem);
                dragsort.addSortableItem(document.getElementById("selectedCandidates"), newItem);
                break;
            } else {
                element = element.parentNode;
            }
        }


    }
}

/*
move selected item back into the candidate bin from the selected candidate list
*/
function boot(obj) {
    var idx = binHash[obj.getAttribute("src")];
    var item = document.getElementById("candidateBin").getElementsByTagName("li")[idx];
    item.innerHTML = obj.parentNode.innerHTML;
    item.getElementsByTagName("img")[0].setAttribute("onclick", "select(this)");
    obj.parentNode.parentNode.removeChild(obj.parentNode);


}


//-->
</script>

<style type="text/css">
    #selectedCandidates {
        font-family: Arial, sans-serif;
        list-style-type: none;
        margin: 10px;
        padding: 4px;
        /*
                    align: center;
        */
    }

    #selectedCandidates  li {
        cursor: move;
        position: relative;
        float: left;
        /*
                    clear: top;
        */
        margin: 2px 2px 0px 0px;
        border: 1px solid #000;
        text-align: center;
        padding-top: 5px;
        padding-bottom: 5px;
        height: 118px;
        width: 88px;
        background-color: red;
    }

    #candidateBin li img {
        max-height: 95px;
    }

    #selectedCandidates {
        font-family: Arial, sans-serif;
        list-style-type: none;
        margin: 10px;
        padding: 4px;
        /*
                    align: center;
        */
    }

    #candidateBin  li {
        cursor: move;
        position: relative;
        float: left;
        /*
                    clear: top;
        */
        margin: 2px 2px 0px 0px;
        border: 1px solid #000;
        text-align: center;
        padding-top: 5px;
        padding-bottom: 5px;
        height: 118px;
        width: 88px;
        background-color: red;
    }

    #candidateBin li img {
        max-height: 95px;
    }


</style>

</head>

<body>

<div>

    <ul ID="selectedCandidates">
    </ul>

</div>
<br/>
<br/>
<br/>
<br/>

<p>
    <br/>
    <br/>
    <br/>
    <br/>

</p>

<div>

    <ul ID="candidateBin">
        <li class="box" title="17086035">A<br><img src="A.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49377936">B<br><img src="B.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="42553910">C<br><img src="C.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="35486247">D<br><img src="D.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="41198781">E<br><img src="E.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="94007666">F<br><img src="F.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="98160341">G<br><img src="G.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">H<br><img src="H.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="17086035">I<br><img src="I.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49779436">J<br><img src="J.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="42553910">K<br><img src="K.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="35486247">L<br><img src="L.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="41198781">M<br><img src="M.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="94007666">N<br><img src="N.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="98160341">O<br><img src="O.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">P<br><img src="P.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">Q<br><img src="Q.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">R<br><img src="R.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">S<br><img src="S.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">T<br><img src="T.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">U<br><img src="U.png" width="75" onclick="select(this)" alt=""/></li>
        <li class="box" title="49029369">V<br><img src="V.png" width="75" onclick="select(this)" alt=""/></li>
    </ul>
</div>


</body>
</html>