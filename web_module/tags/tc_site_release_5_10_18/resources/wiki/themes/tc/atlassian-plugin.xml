<atlassian-plugin name="TopCoder Site Theme" key="com.topcoder.web.wiki.themes.tc" enabled="false">
   <plugin-info>
       <description>This theme matches the TopCoder site http://www.topcoder.com/tc</description>
       <vendor name="TopCoder" url="http://www.topcoder.com/"/>
       <version>1.0</version>
   </plugin-info>

    <theme key="tctheme" i18n-name-key="com.topcoder.web.wiki.themes.tc.name" name="TopCoder Site Theme" class="com.atlassian.confluence.themes.BasicTheme">
        <description key="com.topcoder.web.wiki.themes.tc.desc">This theme matches the TopCoder site http://www.topcoder.com/tc</description>
        <layout key="com.atlassian.confluence.themes.leftnavigation:main"/>
        <layout key="com.atlassian.confluence.themes.leftnavigation:page"/>
        <layout key="com.atlassian.confluence.themes.leftnavigation:mail"/>
        <layout key="com.atlassian.confluence.themes.leftnavigation:blogpost"/>
        <layout key="com.atlassian.confluence.themes.leftnavigation:space"/>
        <layout key="com.atlassian.confluence.themes.leftnavigation:spaceadminpanel"/>
        <param name="space-config-path" value="/themes/leftnavigation/configuretheme.action"/>
        <param name="global-config-path" value="/admin/themes/leftnavigation/configuretheme.action"/>
        <resource key="icon" name="themeicon.gif" type="download" location="templates/leftnavigation/images/themeicon.gif">
            <property key="content-type" value="image/gif"/>
        </resource>
    </theme>

    <layout key="main" name="Main Decorator" class="com.atlassian.confluence.themes.VelocityDecorator"
            overrides="/decorators/main.vmd">
        <resource type="velocity" name="decorator"
                  location="templates/leftnavigation/main.vmd"/>
        <resource type="stylesheet" name="leftnav.css"
                  location="templates/leftnavigation/leftnav-css.vm">
        </resource>
    </layout>

    <layout key="space" name="Space Decorator" class="com.atlassian.confluence.themes.VelocityDecorator"
            overrides="/decorators/space.vmd">
        <resource type="velocity" name="decorator"
                  location="templates/leftnavigation/space.vmd"/>
    </layout>

    <layout key="page" name="Page Decorator" class="com.atlassian.confluence.themes.VelocityDecorator"
            overrides="/decorators/page.vmd">
        <resource type="velocity" name="decorator"
                  location="templates/leftnavigation/page.vmd"/>
    </layout>

    <layout key="blogpost" name="Blogpost Decorator" class="com.atlassian.confluence.themes.VelocityDecorator"
            overrides="/decorators/blogpost.vmd">
        <resource type="velocity" name="decorator"
                  location="templates/leftnavigation/blog.vmd"/>
    </layout>

    <layout key="mail" name="Mail Decorator" class="com.atlassian.confluence.themes.VelocityDecorator"
            overrides="/decorators/mail.vmd">
        <resource type="velocity" name="decorator"
                  location="templates/leftnavigation/mail.vmd"/>
    </layout>

    <layout key="spaceadminpanel" name="Space Admin Panel Decorator" class="com.atlassian.confluence.themes.VelocityDecorator"
            overrides="/decorators/panels/spaceadminpanel.vmd">
        <resource type="velocity" name="decorator"
                  location="templates/leftnavigation/panels/spaceadminpanel.vmd"/>
    </layout>

    <velocity-context-item key="velocityHelper" name="Velocity Helper" class="com.topcoder.web.wiki.themes.tc.LeftNavVelocityHelper"
            context-key="tc"/>

    <xwork name="themeaction" key="themeaction">
        <package name="leftnavigation" extends="default" namespace="/themes/leftnavigation">
            <default-interceptor-ref name="defaultStack" />

            <action name="configuretheme" class="com.topcoder.web.wiki.themes.tc.ConfigureThemeAction" method="doDefault">
                <result name="input" type="velocity">/templates/leftnavigation/configuretheme.vm</result>
            </action>

            <action name="doconfiguretheme" class="com.topcoder.web.wiki.themes.tc.ConfigureThemeAction">
                <result name="success" type="redirect">/spaces/choosetheme.action?key=${key}</result>
            </action>
        </package>
        <package name="leftnavigation-admin" extends="default" namespace="/admin/themes/leftnavigation">
        <default-interceptor-ref name="defaultStack" />
            <action name="configuretheme" class="com.topcoder.web.wiki.themes.tc.ConfigureThemeAction" method="doDefault">
                <result name="input" type="velocity">/templates/leftnavigation/configurethemeadmin.vm</result>
            </action>
            <action name="doconfiguretheme" class="com.topcoder.web.wiki.themes.tc.ConfigureThemeAction">
                <result name="success" type="redirect">/admin/choosetheme.action</result>
            </action>
        </package>
    </xwork>
</atlassian-plugin>